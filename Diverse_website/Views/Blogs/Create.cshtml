@model Diverse_website.ViewModels.BlogsWithImages
@using Microsoft.AspNetCore.Identity
@{
    ViewData["Title"] = "Create";
}
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> userManager
@inject RoleManager<IdentityRole> Roles
@{string username = User.Identity.Name;

}
<style>
    .image-input-placeholder {
        background-image: Url('admin/assets/media/avatars/blogplaceholder.jpg');
    }

    [data-bs-theme="dark"] .image-input-placeholder {
        background-image: url('assets/media/avatars/blogplaceholder.jpg');
    }
</style>
<div id="kt_app_toolbar" class="app-toolbar  py-3 py-lg-6 ">

    <!--begin::Toolbar container-->
    <div id="kt_app_toolbar_container" class="app-container  container-xxl d-flex flex-stack ">



        <!--begin::Page title-->
        <div class="page-title d-flex flex-column justify-content-center flex-wrap me-3 ">
            <!--begin::Title-->
            <h1 class="page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0">
                The Blog
            </h1>
            <!--end::Title-->
            <!--begin::Breadcrumb-->
            <ul class="breadcrumb breadcrumb-separatorless fw-semibold fs-7 my-0 pt-1">
                <!--begin::Item-->
                <li class="breadcrumb-item text-muted">
                    <a asp-action="Index" class="text-muted text-hover-primary">
                        Home
                    </a>
                </li>
                <!--end::Item-->
                <!--begin::Item-->
                <li class="breadcrumb-item">
                    <span class="bullet bg-gray-400 w-5px h-2px"></span>
                </li>
                <!--end::Item-->
                <!--begin::Item-->
                <li class="breadcrumb-item text-muted">
                    Create Blog
                </li>
                <!--end::Item-->

            </ul>
            <!--end::Breadcrumb-->
        </div>
        <!--end::Page title-->

    </div>
    <!--end::Toolbar container-->
</div>
<div id="kt_app_content" class="app-content  flex-column-fluid ">


    <!--begin::Content container-->
    <div id="kt_app_content_container" class="app-container  container-xxl ">

        <div class="card">
            <!--begin::Body-->
            <div class="card-body p-lg-10">
                <!--begin::Latest posts-->
                <form class="form-horizontal" enctype="multipart/form-data" asp-controller="Blogs" method="post" asp-action="Create">
                    <input type="hidden" asp-for="Blog.userid" value="@username" />
                    @*<input type="hidden" asp-for="user.UserName" />*@

                    <div class="fv-row mb-7">
                        <!--begin::Label-->
                        <label asp-for="Blog.TitleEn" class="required fs-6 fw-semibold mb-2">Title English</label>
                        <!--end::Label-->
                        <!--begin::Input-->
                        <input asp-for="Blog.TitleEn" type="text" class="form-control form-control-solid" placeholder="Title English" />

                        <span asp-validation-for="Blog.TitleEn" class="text-danger"></span>
                        <!--end::Input-->
                    </div>
                    <div class="fv-row mb-7">
                        <!--begin::Label-->
                        <label asp-for="Blog.TitleAr" class="required fs-6 fw-semibold mb-2">Title Arabic</label>
                        <!--end::Label-->
                        <!--begin::Input-->
                        <input asp-for="Blog.TitleAr" type="text" class="form-control form-control-solid" placeholder="Title Arabic" />

                        <span asp-validation-for="Blog.TitleAr" class="text-danger"></span>
                        <!--end::Input-->
                    </div>
                    <div class="fv-row mb-7">
                        <!--begin::Label-->
                        <label asp-for="Blog.ContentEn" class="required fs-6 fw-semibold mb-2">Content English</label>


                        <textarea type="text" asp-for="Blog.ContentEn" class="form-control form-control-solid" placeholder="Content English">

</textarea>
                        <span asp-validation-for="Blog.ContentEn" class="text-danger"></span>

                        <!--end::Input-->
                    </div>
                    <div class="fv-row mb-7">
                        <!--begin::Label-->
                        <label asp-for="Blog.ContentAr" class="required fs-6 fw-semibold mb-2">Content Arabic</label>
                        <!--end::Label-->
                        <!--begin::Input-->
                        <textarea type="text" asp-for="Blog.ContentAr" class="form-control form-control-solid" placeholder="Content Arabic">

</textarea>
                        <span asp-validation-for="Blog.ContentAr" class="text-danger"></span>

                        <!--end::Input-->
                    </div>

                    <div class="fv-row mb-7">
                        <!--begin::Label-->
                        <label asp-for="Blog.Tag" class="required fs-6 fw-semibold mb-2">Tags</label>
                        <!--end::Label-->
                        <!--begin::Input-->
                        <input asp-for="Blog.Tag" type="text" class="form-control form-control-solid" placeholder="Tag1, Tag2, Tag3 ..... " />

                        <span asp-validation-for="Blog.Tag" class="text-danger"></span>
                        <!--end::Input-->
                    </div>
                    @*<div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label asp-for="SelectedCountryId">Role</label>
                                @Html.DropDownListFor(x => Model.SelectedCountryId, new SelectList(Model.CountryList, "Id", "Name"), htmlAttributes: new { @class = "form-control", id = "SelectedCountryId" })
                                <span asp-validation-for="SelectedCountryId" class="text-danger"></span>
                            </div>
                        </div>
                    </div>*@

                    <!--begin::Image input-->
                    <div class="row row-cols-lg-2 mb-7">
                        <div class="col">
                            <div class="image-input image-input-empty" data-kt-image-input="true">
                                <!--begin::Image preview wrapper-->
                                <div class="image-input-wrapper h-125px" style="width:18rem !important;background-image:Url('@Url.Content("~/admin/assets/media/avatars/blogplaceholder.jpg")')"></div>
                                <!--end::Image preview wrapper-->
                                <!--begin::Edit button-->
                                <label class="btn btn-icon btn-circle btn-color-muted btn-active-color-primary w-25px h-25px bg-body shadow"
                                       data-kt-image-input-action="change"
                                       data-bs-toggle="tooltip"
                                       data-bs-dismiss="click"
                                       title="Change banner">
                                    <i class="ki-duotone ki-pencil fs-6"><span class="path1"></span><span class="path2"></span></i>

                                    <!--begin::Inputs-->
                                    <input asp-for="BlogImage" type="file" accept=".png, .jpg, .jpeg" />
                                    <input type="hidden" name="avatar_remove" />
                                    <!--end::Inputs-->
                                </label>
                                <!--end::Edit button-->
                                <!--begin::Cancel button-->
                                <span class="btn btn-icon btn-circle btn-color-muted btn-active-color-primary w-25px h-25px bg-body shadow"
                                      data-kt-image-input-action="cancel"
                                      data-bs-toggle="tooltip"
                                      data-bs-dismiss="click"
                                      title="Cancel banner">
                                    <i class="ki-outline ki-cross fs-3"></i>
                                </span>
                                <!--end::Cancel button-->
                                <!--begin::Remove button-->
                                <span class="btn btn-icon btn-circle btn-color-muted btn-active-color-primary w-25px h-25px bg-body shadow"
                                      data-kt-image-input-action="remove"
                                      data-bs-toggle="tooltip"
                                      data-bs-dismiss="click"
                                      title="Remove avatar">
                                    <i class="ki-outline ki-cross fs-3"></i>
                                </span>
                                <!--end::Remove button-->
                            </div>
                        </div>
                        <div class="col" data-kt-calendar="datepicker">
                            <div class="fv-row mb-9">
                                <!--begin::Label-->
                                <label class="fs-6 fw-semibold mb-2">Blog Time</label>
                                <!--end::Label-->
                                <!--begin::Input-->
                                <div class="input-group" id="kt_td_picker_date_only" data-td-target-input="nearest" data-td-target-toggle="nearest">
                                    <input id="kt_td_picker_date_only_input" asp-for="Blog.CreatedDate" type="text" placeholder="Pick a time" class="form-control" data-td-target="#kt_td_picker_date_only" />
                                    <span class="input-group-text" data-td-target="#kt_td_picker_date_only" data-td-toggle="datetimepicker">
                                        <i class="ki-duotone ki-calendar fs-2"><span class="path1"></span><span class="path2"></span></i>
                                    </span>
                                </div>
                                @*<input class="form-control form-control-solid blogdatepicker"  placeholder="Pick a time"  />*@
                                <!--end::Input-->
                                <span asp-validation-for="Blog.CreatedDate" class="text-danger"></span>
                            </div>
                        </div>

                    </div>

                    <div class="card-footer">
                        <div class="fv-row mb-7">
                            <button type="submit" class="btn btn-sm btn-primary" style="float:right">Save</button>
                            <a type="submit" class="btn btn-sm btn-secondary" asp-action="Index">Back</a>
                        </div>
                    </div>


                </form>



            </div>
            <!--end::Body-->
        </div>
    </div>
</div>

@section Scripts{
    <script>
        //$(document).ready(function () {
        //    $('.blogdatepicker').datepicker({
        //        dateFormat: "yy/mm/dd"
        //    });
        //});

        new tempusDominus.TempusDominus(document.getElementById("kt_td_picker_date_only"), {
            display: {
                viewMode: "calendar",
                components: {
                    decades: true,
                    year: true,
                    month: true,
                    date: true,
                    hours: false,
                    minutes: false,
                    seconds: false
                }
            }
        });


    </script>

    @*<script src="~/client/assets/plugins/custom/fullcalendar/fullcalendar.bundle.js"></script>
        <script src="~/client/assets/plugins/custom/datatables/datatables.bundle.js"></script>*@
    <script src="~/client/assets/js/custom/calendar/calendar.js"></script>
} 